{"version":3,"sources":["../../src/pages/userchat/userchat.module.ts","../../src/pages/userchat/userchat.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACO;AACN;AAa1C;IAAA;IAAiC,CAAC;IAArB,kBAAkB;QAX9B,uEAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,+DAAY;aACb;YACD,OAAO,EAAE;gBACP,sEAAe,CAAC,QAAQ,CAAC,+DAAY,CAAC;aACvC;YACD,OAAO,EAAE;gBACP,+DAAY;aACb;SACF,CAAC;OACW,kBAAkB,CAAG;IAAD,yBAAC;CAAA;AAAH;;;;;;;;;;;;;;;;;;;;;;ACf8B;AACgC;AACpC;AASzD;IAOE,sBACS,OAAsB,EACtB,SAAoB,EACpB,WAAyB,EACzB,MAAc,EACd,IAAY,EACZ,WAA8B;QANvC,iBAuBC;QAtBQ,YAAO,GAAP,OAAO,CAAe;QACtB,cAAS,GAAT,SAAS,CAAW;QACpB,gBAAW,GAAX,WAAW,CAAc;QACzB,WAAM,GAAN,MAAM,CAAQ;QACd,SAAI,GAAJ,IAAI,CAAQ;QACZ,gBAAW,GAAX,WAAW,CAAmB;QARvC,gBAAW,GAAG,EAAE,CAAC;QASf,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;QACtC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;QACtC,IAAI,CAAC,QAAQ,EAAE,CAAC;QAChB,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,YAAY,EAAE;YAClC,KAAI,CAAC,WAAW,GAAG,EAAE,CAAC;YACtB,KAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;YACnB,KAAI,CAAC,IAAI,CAAC,GAAG,CAAC;gBACZ,KAAI,CAAC,WAAW,GAAG,KAAI,CAAC,WAAW,CAAC,cAAc,CAAC;gBACnD,GAAG,CAAC,CAAC,IAAI,GAAG,IAAI,KAAI,CAAC,WAAW,CAAC,CAAC,CAAC;oBACjC,EAAE,CAAC,CAAC,KAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,MAAM,CAAC;wBAC1D,KAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;oBAC3B,IAAI;wBACF,KAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;gBAC9B,CAAC;YACH,CAAC,CAAC;QACJ,CAAC,CAAC;IACJ,CAAC;IAED,iCAAU,GAAV;QAAA,iBAOC;QANC,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,IAAI,EAAE,CAAC,CAAC,CAAC;YAC1B,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC;gBACnD,KAAI,CAAC,OAAO,CAAC,cAAc,EAAE,CAAC;gBAC9B,KAAI,CAAC,UAAU,GAAG,EAAE,CAAC;YACvB,CAAC,CAAC,CAAC;QACL,CAAC;IACH,CAAC;IAED,sCAAe,GAAf;QACE,IAAI,CAAC,WAAW,CAAC,WAAW,EAAE,CAAC;IACjC,CAAC;IAED,+BAAQ,GAAR;QAAA,iBAIC;QAHC,UAAU,CAAC;YACT,KAAI,CAAC,OAAO,CAAC,cAAc,EAAE,CAAC;QAChC,CAAC,EAAE,IAAI,CAAC,CAAC;IACX,CAAC;IAhDqB;QAArB,yEAAS,CAAC,SAAS,CAAC;kCAAU,8DAAO;iDAAC;IAD5B,YAAY;QALxB,wEAAS,CAAC;YACT,QAAQ,EAAE,eAAe;WACG;SAC7B,CAAC;6EAU+B;YACX,0EAAS;YACP,8DAAY;YACjB,6DAAM;YACR,wEAAM;YACC,SAAiB;OAb5B,YAAY,CAmDxB;IAAD,CAAC;AAAA;SAnDY,YAAY,e","file":"0.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { UserchatPage } from './userchat';\n\n@NgModule({\n  declarations: [\n    UserchatPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(UserchatPage),\n  ],\n  exports: [\n    UserchatPage\n  ]\n})\nexport class UserchatPageModule {}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/userchat/userchat.module.ts","import { Component, ViewChild, NgZone } from '@angular/core';\nimport { IonicPage, NavController, NavParams, Events, Content, LoadingController } from 'ionic-angular';\nimport { ChatProvider } from '../../providers/chat/chat';\n\n@IonicPage()\n\n@Component({\n  selector: 'page-userchat',\n  templateUrl: 'userchat.html',\n})\n\nexport class UserchatPage {\n  @ViewChild('content') content: Content;\n  friend: any;\n  picUrl;\n  newmessage;\n  allmessages = [];\n  imgornot;\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    public chatservice: ChatProvider,\n    public events: Events,\n    public zone: NgZone,\n    public loadingCtrl: LoadingController) {\n    this.friend = this.chatservice.friend;\n    this.picUrl = this.chatservice.picUrl;\n    this.scrollto();\n    this.events.subscribe('newmessage', () => {\n      this.allmessages = [];\n      this.imgornot = [];\n      this.zone.run(() => {\n        this.allmessages = this.chatservice.friendmessages;\n        for (var key in this.allmessages) {\n          if (this.allmessages[key].message.substring(0, 4) == 'http')\n            this.imgornot.push(true);\n          else\n            this.imgornot.push(false);\n        }\n      })\n    })\n  }\n\n  addmessage() {\n    if (this.newmessage != '') {\n      this.chatservice.addnewmessage(this.newmessage).then(() => {\n        this.content.scrollToBottom();\n        this.newmessage = '';\n      });\n    }\n  }\n\n  ionViewDidEnter() {\n    this.chatservice.getmessages();\n  }\n\n  scrollto() {\n    setTimeout(() => {\n      this.content.scrollToBottom();\n    }, 1000);\n  }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/userchat/userchat.ts"],"sourceRoot":""}